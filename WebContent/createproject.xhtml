<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      >
    <h:body>
 
    	<ui:composition template="/templates/masterLayout.xhtml">
 			
 			
 			
    		<ui:define name="content">
					
					<h:outputScript rendered="#{createProjectBean.success}">
		 				$(function(){
		 					alertHandler.display("success", "#{createProjectBean.successMessage}", 0);
		 				});
		 			</h:outputScript>
					
					<h1 class="header">#{msg['page.createProject.title']}</h1>
					<h2 class="header">#{msg['page.createProject.subtitle']}</h2>
					<p class="description">#{msg['page.createProject.description']}</p>
					<h:form id="form" class="basicForm">
					
						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.projectName']}</h:outputLabel>
							<h:inputText id="projectName" value="#{createProjectBean.projectName}" required="true" styleClass="#{component.valid ? '' : 'error'}">
				        		<f:ajax event="blur" render="projectNameRequiredMessage projectName"/>
					        </h:inputText>
					        <h:message id="projectNameRequiredMessage" for="projectName" class="error" />
							
						</blockquote>
						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.creditAmount']}</h:outputLabel>
							<h:inputText id="creditAmount" value="#{createProjectBean.creditAmount}" required="true" styleClass="#{component.valid ? '' : 'error'}">
				        		<f:ajax event="blur" render="creditAmountRequiredMessage creditAmount"/>
					        </h:inputText>
					        <h:message id="creditAmountRequiredMessage" for="creditAmount" class="error" />
						</blockquote>
						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.projectDuration']}</h:outputLabel>
							<h:inputText id="duration"  value="#{createProjectBean.duration}" required="true" styleClass="#{component.valid ? '' : 'error'}">
				        		<f:ajax event="blur" render="durationRequiredMessage duration" />
					        </h:inputText>
					        <h:message id="durationRequiredMessage" for="duration" class="error" />
						</blockquote>
							
						<blockquote style="clear:both;">
							
				 			
							<h:commandButton id="formSubmit" type="submit"
							value="#{msg['form.createProjectSubmit']}" action="#{createProjectBean.create()}">
							</h:commandButton> 
							
							<h:outputText value="#{createProjectBean.successMessage}"/>
						</blockquote>
					</h:form>	
    		</ui:define>
 
    	</ui:composition>
 
    </h:body>
 
</html>