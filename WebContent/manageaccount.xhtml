<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      >
    <h:body>
 
    	<ui:composition template="/templates/masterLayout.xhtml">
 			
 			<f:metadata>
				<f:event listener="#{manageAccountBean.loadContactInformation()}" type="preRenderView"/>
			</f:metadata>	
 			
 			
    		<ui:define name="content">
					
					
					<h:outputScript rendered="#{manageAccountBean.success}">
		 				$(function(){
		 					alertHandler.display("#{manageAccountBean.msgType}", "#{manageAccountBean.successMessage}", 0);
		 				});
		 			</h:outputScript>
					<h1 class="header"><span class="highlight">#{msg['page.account.title']}</span></h1>

					<h2 class="header">#{msg['page.account.passwordTitle']}</h2>

					<h:form class="basicForm">

						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.oldPassword']}</h:outputLabel>
							<h:inputSecret value="#{manageAccountBean.old_password}" id="old_password" require="true"/>
						</blockquote>

						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.newPassword']}</h:outputLabel>
							<h:inputSecret value="#{manageAccountBean.new_password}" id="new_password" require="true"/>
						</blockquote>
					<!--   -->
						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.newPasswordConfirm']}</h:outputLabel>
							<h:inputSecret value="#{manageAccountBean.c_new_password}" id="c_new_password" require="true"/>
						</blockquote>

						<blockquote style="clear:both;">
							<h:commandButton action="#{manageAccountBean.changePassword()}" type="submit" value="#{msg['form.changePassword']}">
								
							</h:commandButton>
						</blockquote>

					</h:form>

					<h:form class="basicForm">
						<h2 class="header">#{msg['page.account.contactInformationTitle']}</h2>

						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.email']}</h:outputLabel>
							<h:inputText value="#{manageAccountBean.email}" id="email" require="true"/>
						</blockquote>

						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.firstName']}</h:outputLabel>
							<h:inputText value="#{manageAccountBean.firstname}" id="firstname" require="true"/>
						</blockquote>

						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.lastName']}</h:outputLabel>
							<h:inputText value="#{manageAccountBean.lastname}" id="lastname" require="true"/>
						</blockquote>

						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.birthdate']}</h:outputLabel>
							<h:inputText value="#{manageAccountBean.birthdate1}" id="birthdate1" require="true"/>
							<h:inputText value="#{manageAccountBean.birthdate2}" id="birthdate2" require="true"/>
							<h:inputText value="#{manageAccountBean.birthdate3}" id="birthdate3" require="true"/>
						</blockquote>

						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.country']}</h:outputLabel>
							
				   		<h:selectOneMenu value="#{manageAccountBean.country}"  name="country" tabindex="10" class="text">
				   			<f:selectItem  itemValue="CH" itemLabel="Schweiz" />
				   			<f:selectItem itemValue="DE" itemLabel="Deutschland (Bundesrep.)" />
			   			</h:selectOneMenu>
					   		
						</blockquote>

						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.city']} </h:outputLabel>
							<h:inputText value="#{manageAccountBean.city}" id="city" require="true"/>
						</blockquote>

						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.street']}</h:outputLabel>
							<h:inputText value="#{manageAccountBean.street}" id="address" require="true"/>
						</blockquote>

						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.postalcode']}</h:outputLabel>
							<h:inputText value="#{manageAccountBean.postalcode}" id="postalcode" require="true"/>
						</blockquote>

						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.phone']}</h:outputLabel>
							<h:inputText value="#{manageAccountBean.phone}" id="phone" require="true"/>
						</blockquote>

						<h2 class="header">#{msg['page.account.additionalInformationTitle']}</h2>

						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.income']}</h:outputLabel>
							<h:inputText value="#{manageAccountBean.income}" id="income" require="true"/>
						</blockquote>
						
						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.expenses']}</h:outputLabel>
							<h:inputText value="#{manageAccountBean.expenses}" id="expenses" require="true"/>
						</blockquote>
						
						<blockquote style="clear:both;">
							<h:outputLabel for="">#{msg['form.existingCredits']}</h:outputLabel>
							<h:inputText value="#{manageAccountBean.existing_credits}" id="existingcredits" require="true"/>
						</blockquote>

						<blockquote style="clear:both;">
							<h:commandButton type="submit" value="#{msg['form.update']}">
								<f:ajax execute="@form" render="@form" />
							</h:commandButton>
						</blockquote>
					
					</h:form>
	
    		</ui:define>
 
    	</ui:composition>
 
    </h:body>
 
</html>